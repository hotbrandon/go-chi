# cryptocurrency transactions

```sql
ALTER TABLE BRANDON.TRANSACTIONS
 DROP PRIMARY KEY CASCADE;

DROP TABLE BRANDON.TRANSACTIONS CASCADE CONSTRAINTS;

CREATE TABLE BRANDON.TRANSACTIONS
(
  TRANSACTIONS_SEQ  NUMBER,
  COIN_SYMBOL       VARCHAR2(10 BYTE)           NOT NULL,
  TRANSACTION_TYPE  CHAR(1 BYTE)                NOT NULL,
  QUANTITY          NUMBER(20,8)                NOT NULL,
  PRICE_PER_UNIT    NUMBER(20,8)                NOT NULL,
  TOTAL_COST        NUMBER(20,2)                NOT NULL,
  TRANSACTION_DATE  TIMESTAMP(6)                NOT NULL,
  EXCHANGE          CHAR(2 BYTE)                NOT NULL,
  NOTES             VARCHAR2(50 BYTE),
  CREATED_AT        TIMESTAMP(6)                DEFAULT SYSTIMESTAMP
)
TABLESPACE USERS
RESULT_CACHE (MODE DEFAULT)
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            MAXSIZE          UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;

ALTER TABLE BRANDON.TRANSACTIONS
ADD CONSTRAINT TRANSACTION_TYPE_CHK
CHECK (TRANSACTION_TYPE IN ('B', 'S'));

ALTER TABLE BRANDON.TRANSACTIONS
ADD CONSTRAINT EXCHANGE_CHK
CHECK (EXCHANGE IN ('BN', 'OK'));

CREATE INDEX TRANSACTIONS_SYMBOL_IDX
ON BRANDON.TRANSACTIONS (COIN_SYMBOL);

CREATE INDEX TRANSACTIONS_DATE_IDX
ON BRANDON.TRANSACTIONS (TRANSACTION_DATE);

ALTER TABLE BRANDON.TRANSACTIONS
ADD CONSTRAINT TRANSACTIONS_PK
PRIMARY KEY (TRANSACTIONS_SEQ);

CREATE SEQUENCE BRANDON.TRANSACTIONS_SEQ
  START WITH 1
  INCREMENT BY 1
  NOCACHE
  NOCYCLE;
  
ALTER TABLE BRANDON.TRANSACTIONS
ADD CONSTRAINT QUANTITY_POSITIVE_CHK
CHECK (QUANTITY > 0);

ALTER TABLE BRANDON.TRANSACTIONS
ADD CONSTRAINT PRICE_POSITIVE_CHK
CHECK (PRICE_PER_UNIT > 0);

ALTER TABLE BRANDON.TRANSACTIONS
ADD CONSTRAINT TOTAL_COST_POSITIVE_CHK
CHECK (TOTAL_COST >= 0);
```
