# cryptocurrency transactions

```sql
ALTER TABLE TRANSACTIONS
 DROP PRIMARY KEY CASCADE;

DROP TABLE TRANSACTIONS CASCADE CONSTRAINTS;

CREATE TABLE TRANSACTIONS
(
  TRANSACTIONS_SEQ  NUMBER,
  COIN_SYMBOL       VARCHAR2(10 BYTE)           NOT NULL,
  TRANSACTION_TYPE  CHAR(1 BYTE)                NOT NULL,
  QUANTITY          NUMBER(20,8)                NOT NULL,
  PRICE_PER_UNIT    NUMBER(20,8)                NOT NULL,
  TOTAL_COST        NUMBER(20,2)                NOT NULL,
  TRANSACTION_DATE  DATE                        NOT NULL,
  EXCHANGE          CHAR(2 BYTE)                NOT NULL,
  NOTES             VARCHAR2(50 BYTE),
  CREATED_AT        DATE                        DEFAULT SYSDATE
)
TABLESPACE USERS
RESULT_CACHE (MODE DEFAULT)
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            MAXSIZE          UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;

ALTER TABLE TRANSACTIONS
ADD CONSTRAINT TRANSACTION_TYPE_CHK
CHECK (TRANSACTION_TYPE IN ('B', 'S'));

ALTER TABLE TRANSACTIONS
ADD CONSTRAINT EXCHANGE_CHK
CHECK (EXCHANGE IN ('BN', 'OK'));

CREATE INDEX TRANSACTIONS_SYMBOL_IDX
ON TRANSACTIONS (COIN_SYMBOL);

CREATE INDEX TRANSACTIONS_DATE_IDX
ON TRANSACTIONS (TRANSACTION_DATE);

ALTER TABLE TRANSACTIONS
ADD CONSTRAINT TRANSACTIONS_PK
PRIMARY KEY (TRANSACTIONS_SEQ);

CREATE SEQUENCE TRANSACTIONS_SEQ
  START WITH 1
  INCREMENT BY 1
  NOCACHE
  NOCYCLE;
  
ALTER TABLE TRANSACTIONS
ADD CONSTRAINT QUANTITY_POSITIVE_CHK
CHECK (QUANTITY > 0);

ALTER TABLE TRANSACTIONS
ADD CONSTRAINT PRICE_POSITIVE_CHK
CHECK (PRICE_PER_UNIT > 0);

ALTER TABLE TRANSACTIONS
ADD CONSTRAINT TOTAL_COST_POSITIVE_CHK
CHECK (TOTAL_COST >= 0);
```
